[üá∫üá∏ English](./README.md) | [üá∑üá∫ –†—É—Å—Å–∫–∏–π](./README-ru.md)  | [üá®üá≥ ‰∏≠Êñá](./README-zh.md)


# example-typed-express-proxy

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Express proxy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Node.js —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenAPI –∏ TypeScript.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `src/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `index.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤
  - `middlewares/` ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∏–¥–ª–≤–∞—Ä—ã (–ª–æ–≥–≥–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤)
  - `services/petstore/generated-api-types.d.ts` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑ OpenAPI —Ç–∏–ø—ã TypeScript
  - `@types/` ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (–≤–∫–ª—é—á–∞—è TypedController)
  - `errors.ts` ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫
  - `example.test.ts` ‚Äî –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–∫–æ–≤/—Å—ç–º–ø–ª–æ–≤
- `specs/` ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAPI
  - `petstore.json` ‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI
  - `prepared-petstore.json` ‚Äî –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø–æ—Å–ª–µ openapi-modifier)
- `openapi-modifier.config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `simple-text-file-modifier.config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
- `package.json` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ npm-—Å–∫—Ä–∏–ø—Ç—ã

## –î–æ—Å—Ç—É–ø–Ω—ã–µ npm-—Å–∫—Ä–∏–ø—Ç—ã

- `start` ‚Äî –∑–∞–ø—É—Å–∫ Express proxy —Å–µ—Ä–≤–µ—Ä–∞
- `prepare-openapi-spec` ‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ openapi-modifier
- `generate-types` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TypeScript —Ç–∏–ø–æ–≤ –∏–∑ OpenAPI (—Å –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π)
- `prepare-generated-types` ‚Äî –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏–º–µ–Ω
- `test` ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (Jest)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏–∑ OpenAPI
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è OpenAPI (`specs/petstore.json`) –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `openapi-modifier` (—Å–º. `openapi-modifier.config.ts`) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `specs/prepared-petstore.json`.
- –¢–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é `dtsgenerator` –∏ –ø–æ—Å—Ç-–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏–º–µ–Ω.
- –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç API –≤ `src/services/petstore/generated-api-types.d.ts`.

### –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ TypedController
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–∏–ø–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `TypedController<T>`, –≥–¥–µ `T` –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint.
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞, —Ç–µ–ª–∞, query –∏ –æ—Ç–≤–µ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ endpoint'–æ–≤ —Å –ø–æ–º–æ—â—å—é getMockFromOpenApi
- –£—Ç–∏–ª–∏—Ç–∞ `getMockFromOpenApi` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–æ–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è endpoint'–æ–≤, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—è —Å—Ö–µ–º—ã OpenAPI –≤ JSON Schema –∏ –∏—Å–ø–æ–ª—å–∑—É—è `json-schema-faker`.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ª—é–±–æ–≥–æ endpoint/–æ—Ç–≤–µ—Ç–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è sample —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ —Ç–µ—Å—Ç–∞—Ö
- –£—Ç–∏–ª–∏—Ç—ã `createEndpointResponseSampleFromOpenApi` –∏ `createEntitySampleFromOpenApi` –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å—ç–º–ø–ª—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è endpoint'–æ–≤ –∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ —Ç–µ—Å—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ OpenAPI ‚Üí JSON Schema –∏ json-schema-faker.

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAPI —á–µ—Ä–µ–∑ openapi-modifier
- CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `openapi-modifier` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏—è operationId –¥–ª—è –ª—É—á—à–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤).
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ pipeline –≤ `openapi-modifier.config.ts`.

---

–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ñ–∞–π–ª–∞—Ö. 