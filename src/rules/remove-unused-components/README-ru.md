# Правило remove-unused-components

## Описание
Правило позволяет удалить неиспользуемые компоненты из OpenAPI спецификации. Это помогает очистить спецификацию от устаревших или неиспользуемых схем, параметров, ответов и других компонентов, которые больше не используются в API.

## Конфигурация
Правило принимает объект конфигурации со следующей структурой:

```json
{
  "descriptor": {
    "componentType": "schemas",
    "excludePatterns": ["^Error.*$"]
  }
}
```

где:
- `descriptor` - объект, описывающий параметры удаления:
  - `componentType` - тип компонентов для проверки (schemas, parameters, responses, requestBodies, headers, securitySchemes)
  - `excludePatterns` (опционально) - массив регулярных выражений для исключения компонентов из удаления

## Мотивация создания правила
Правило было создано для случаев, когда необходимо:
1. Очистить спецификацию от неиспользуемых компонентов
2. Уменьшить размер спецификации
3. Улучшить читаемость документации API
4. Устранить потенциальные конфликты при генерации кода

## Случаи использования в других проектах
Правило может быть полезно в следующих сценариях:

1. Рефакторинг большого API с множеством компонентов
2. Миграция с устаревших версий API
3. Оптимизация спецификации для генерации клиентского кода
4. Подготовка документации для внешних потребителей

## Примеры использования

### Пример 1: Удаление неиспользуемых схем
```json
{
  "descriptor": {
    "componentType": "schemas"
  }
}
```

### Пример 2: Удаление неиспользуемых параметров с исключением
```json
{
  "descriptor": {
    "componentType": "parameters",
    "excludePatterns": ["^Common.*$", "^Standard.*$"]
  }
}
```

### Важные замечания
1. Правило проверяет все ссылки на компоненты в спецификации
2. Компоненты, которые используются в других компонентах, не будут удалены
3. Рекомендуется использовать excludePatterns для сохранения важных компонентов
4. Перед применением правила рекомендуется сделать резервную копию спецификации 