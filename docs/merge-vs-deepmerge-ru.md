[üá∫üá∏ English](./merge-vs-deepmerge.md) | [üá∑üá∫ –†—É—Å—Å–∫–∏–π](./merge-vs-deepmerge-ru.md)  | [üá®üá≥ ‰∏≠Êñá](./merge-vs-deepmerge-zh.md)

# –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏ merge –∏ deepmerge

–í openapi-modifier —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ö–µ–º OpenAPI: `merge` –∏ `deepmerge`. –û–Ω–∏ –∏–º–µ—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å–ø–æ—Å–æ–±–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

## –ú–µ—Ç–æ–¥ merge

–ú–µ—Ç–æ–¥ `merge` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ (shallow) –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–∏ —ç—Ç–æ–º:

1. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
2. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è—é—Ç—Å—è, –∞ –Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è
3. –ú–∞—Å—Å–∏–≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

–ü—Ä–∏–º–µ—Ä:
```javascript
// –ò—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç
{
  type: 'object',
  properties: {
    name: { type: 'string' },
    age: { type: 'number' }
  }
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º merge —Å:
{
  properties: {
    name: { type: 'string', format: 'email' }
  }
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  type: 'object',
  properties: {
    name: { type: 'string', format: 'email' }
  }
}
```

## –ú–µ—Ç–æ–¥ deepmerge

–ú–µ—Ç–æ–¥ `deepmerge` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≥–ª—É–±–æ–∫–æ–µ (deep) –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–∏ —ç—Ç–æ–º:

1. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
2. –ú–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è (–∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä—É—é—Ç—Å—è)
3. –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ –æ–±–æ–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤

–ü—Ä–∏–º–µ—Ä:
```javascript
// –ò—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç
{
  type: 'object',
  properties: {
    name: { type: 'string' },
    age: { type: 'number' }
  }
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º deepmerge —Å:
{
  properties: {
    name: { type: 'string', format: 'email' }
  }
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  type: 'object',
  properties: {
    name: { type: 'string', format: 'email' },
    age: { type: 'number' }
  }
}
```

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫–æ–π –º–µ—Ç–æ–¥

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `merge`, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ —Å—Ö–µ–º—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deepmerge`, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ merge
{
  patchMethod: 'merge',
  schemaDiff: {
    type: 'string',
    format: 'email'
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ deepmerge
{
  patchMethod: 'deepmerge',
  schemaDiff: {
    properties: {
      email: {
        type: 'string',
        format: 'email'
      }
    }
  }
}
``` 